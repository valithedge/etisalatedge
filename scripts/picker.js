/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */ !function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):this.Picker=e(jQuery)}(function(e){var t=e(window),n=e(document),o=e(document.documentElement),r=null!=document.documentElement.style.transition;function i(t,s,u,l){if(!t)return i;var f=!1,p={id:t.id||"P"+Math.abs(~~(Math.random()*new Date))},h=u?e.extend(!0,{},u.defaults,l):l||{},g=e.extend({},i.klasses(),h.klass),m=e(t),v=function(){return this.start()},$=v.prototype={constructor:v,$node:m,start:function(){var n,o,r,i;return p&&p.start?$:(p.methods={},p.start=!0,p.open=!1,p.type=t.type,t.autofocus=t==c(),t.readOnly=!h.editable,t.id=t.id||p.id,"text"!=t.type&&(t.type="text"),$.component=new u($,h),$.$root=e('<div class="'+g.picker+'" id="'+t.id+'_root" />'),d($.$root[0],"hidden",!0),$.$holder=e(y()).appendTo($.$root),b(),h.formatSubmit&&(!0===h.hiddenName?(n=t.name,t.name=""):n=(n=["string"==typeof h.hiddenPrefix?h.hiddenPrefix:"","string"==typeof h.hiddenSuffix?h.hiddenSuffix:"_submit"])[0]+t.name+n[1],$._hidden=e('<input type=hidden name="'+n+'"'+(m.data("value")||t.value?' value="'+$.get("select",h.formatSubmit)+'"':"")+">")[0],m.on("change."+p.id,function(){$._hidden.value=t.value?$.get("select",h.formatSubmit):""})),m.data(s,$).addClass(g.input).val(m.data("value")?$.get("select",h.format):t.value),h.editable||m.on("focus."+p.id+" click."+p.id,function(e){e.preventDefault(),$.open()}).on("keydown."+p.id,_),d(t,{haspopup:!0,expanded:!1,readonly:!1,owns:t.id+"_root"}),h.containerHidden?e(h.containerHidden).append($._hidden):m.after($._hidden),h.container?e(h.container).append($.$root):m.after($.$root),$.on({start:$.component.onStart,render:$.component.onRender,stop:$.component.onStop,open:$.component.onOpen,close:$.component.onClose,set:$.component.onSet}).on({start:h.onStart,render:h.onRender,stop:h.onStop,open:h.onOpen,close:h.onClose,set:h.onSet}),f=(o=$.$holder[0],i="position",o.currentStyle?r=o.currentStyle[i]:window.getComputedStyle&&(r=getComputedStyle(o)[i]),"fixed"==r),t.autofocus&&$.open(),$.trigger("start").trigger("render"))},render:function(t){return t?($.$holder=e(y()),b(),$.$root.html($.$holder)):$.$root.find("."+g.box).html($.component.nodes(p.open)),$.trigger("render")},stop:function(){return p.start&&($.close(),$._hidden&&$._hidden.parentNode.removeChild($._hidden),$.$root.remove(),m.removeClass(g.input).removeData(s),setTimeout(function(){m.off("."+p.id)},0),t.type=p.type,t.readOnly=!1,$.trigger("stop"),p.methods={},p.start=!1),$},open:function(s){return p.open?$:(m.addClass(g.active),d(t,"expanded",!0),setTimeout(function(){$.$root.addClass(g.opened),d($.$root[0],"hidden",!1)},0),!1!==s&&(p.open=!0,f&&o.css("overflow","hidden").css("padding-right","+="+a()),f&&r?$.$holder.find("."+g.frame).one("transitionend",function(){$.$holder[0].focus()}):$.$holder[0].focus(),n.on("click."+p.id+" focusin."+p.id,function(e){var n=e.target;n!=t&&n!=document&&3!=e.which&&$.close(n===$.$holder[0])}).on("keydown."+p.id,function(t){var n=t.keyCode,o=$.component.key[n],r=t.target;27==n?$.close(!0):r==$.$holder[0]&&(o||13==n)?(t.preventDefault(),o?i._.trigger($.component.key.go,$,[i._.trigger(o)]):!$.$root.find("."+g.highlighted).hasClass(g.disabled)&&($.set("select",$.component.item.highlight),h.closeOnSelect&&$.close(!0))):e.contains($.$root[0],r)&&13==n&&(t.preventDefault(),r.click())})),$.trigger("open"))},close:function(e){return(e&&(h.editable?t.focus():($.$holder.off("focus.toOpen").focus(),setTimeout(function(){$.$holder.on("focus.toOpen",k)},0))),m.removeClass(g.active),d(t,"expanded",!1),setTimeout(function(){$.$root.removeClass(g.opened+" "+g.focused),d($.$root[0],"hidden",!0)},0),p.open)?(p.open=!1,f&&o.css("overflow","").css("padding-right","-="+a()),n.off("."+p.id),$.trigger("close")):$},clear:function(e){return $.set("clear",null,e)},set:function(t,n,o){var r,i,a=e.isPlainObject(t),d=a?t:{};if(o=a&&e.isPlainObject(n)?n:o||{},t){for(r in a||(d[t]=n),d)i=d[r],r in $.component.item&&(void 0===i&&(i=null),$.component.set(r,i,o)),("select"==r||"clear"==r)&&m.val("clear"==r?"":$.get(r,h.format)).trigger("change");$.render()}return o.muted?$:$.trigger("set",d)},get:function(e,n){if(null!=p[e=e||"value"])return p[e];if("valueSubmit"==e){if($._hidden)return $._hidden.value;e="value"}if("value"==e)return t.value;if(e in $.component.item){if("string"==typeof n){var o=$.component.get(e);return o?i._.trigger($.component.formats.toString,$.component,[n,o]):""}return $.component.get(e)}},on:function(t,n,o){var r,i,a=e.isPlainObject(t),d=a?t:{};if(t)for(r in a||(d[t]=n),d)i=d[r],o&&(r="_"+r),p.methods[r]=p.methods[r]||[],p.methods[r].push(i);return $},off:function(){var e,t,n=arguments;for(e=0,namesCount=n.length;e<namesCount;e+=1)(t=n[e])in p.methods&&delete p.methods[t];return $},trigger:function(e,t){var n=function(e){var n=p.methods[e];n&&n.map(function(e){i._.trigger(e,$,[t])})};return n("_"+e),n(e),$}};function y(){return i._.node("div",i._.node("div",i._.node("div",i._.node("div",$.component.nodes(p.open),g.box),g.wrap),g.frame),g.holder,'tabindex="-1"')}function b(){$.$holder.on({keydown:_,"focus.toOpen":k,blur:function(){m.removeClass(g.target)},focusin:function(e){$.$root.removeClass(g.focused),e.stopPropagation()},"mousedown click":function(t){var n=t.target;n==$.$holder[0]||(t.stopPropagation(),"mousedown"!=t.type||e(n).is("input, select, textarea, button, option")||(t.preventDefault(),$.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),n=t.data(),o=t.hasClass(g.navDisabled)||t.hasClass(g.disabled),r=c();r=r&&(r.type||r.href),(o||r&&!e.contains($.$root[0],r))&&$.$holder[0].focus(),!o&&n.nav?$.set("highlight",$.component.item.highlight,{nav:n.nav}):!o&&"pick"in n?($.set("select",n.pick),h.closeOnSelect&&$.close(!0)):n.clear?($.clear(),h.closeOnClear&&$.close(!0)):n.close&&$.close(!0)})}function k(e){e.stopPropagation(),m.addClass(g.target),$.$root.addClass(g.focused),$.open()}function _(e){var t=e.keyCode,n=/^(8|46)$/.test(t);if(27==t)return $.close(!0),!1;(32==t||n||!p.open&&$.component.key[t])&&(e.preventDefault(),e.stopPropagation(),n?$.clear().close():$.open())}return new v}function a(){if(o.height()<=t.height())return 0;var n=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),r=n[0].offsetWidth;n.css("overflow","scroll");var i=e('<div style="width:100%" />').appendTo(n)[0].offsetWidth;return n.remove(),r-i}function d(t,n,o){if(e.isPlainObject(n))for(var r in n)s(t,r,n[r]);else s(t,n,o)}function s(e,t,n){e.setAttribute(("role"==t?"":"aria-")+t,n)}function c(){try{return document.activeElement}catch(e){}}return i.klasses=function(e){return{picker:e=e||"picker",opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},i._={group:function(e){for(var t,n="",o=i._.trigger(e.min,e);o<=i._.trigger(e.max,e,[o]);o+=e.i)t=i._.trigger(e.item,e,[o]),n+=i._.node(e.node,t[0],t[1],t[2]);return n},node:function(t,n,o,r){return n?"<"+t+(o=o?' class="'+o+'"':"")+(r=r?" "+r:"")+">"+(n=e.isArray(n)?n.join(""):n)+"</"+t+">":""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return({}).toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return({}).toString.call(e).indexOf("Number")>-1&&e%1==0},ariaAttr:function t(n,o){for(var r in e.isPlainObject(n)||(n={attribute:o}),o="",n){var i=("role"==r?"":"aria-")+r;o+=null==n[r]?"":i+'="'+n[r]+'"'}return o}},i.extend=function(t,n){e.fn[t]=function(o,r){var a=this.data(t);return"picker"==o?a:a&&"string"==typeof o?i._.trigger(a[o],a,[r]):this.each(function(){e(this).data(t)||new i(this,t,n,o)})},e.fn[t].defaults=n.defaults},i});